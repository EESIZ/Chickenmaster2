/* ── 리셋 & 기본 ── */
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Segoe UI',Tahoma,sans-serif;background:#1a1a2e;color:#e0e0e0;min-height:100vh;display:flex;justify-content:center}
.hidden{display:none!important}
button{cursor:pointer;border:none;font:inherit;color:inherit}

/* ── 레이아웃 ── */
.app{width:100%;max-width:480px;min-height:100vh;background:#16213e;display:flex;flex-direction:column}

/* ── 타이틀 화면 ── */
#title-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;padding:2rem;text-align:center}
#title-screen h1{font-size:2rem;margin-bottom:.5rem;color:#ffd700}
#title-screen p{color:#999;margin-bottom:2rem}
#title-screen input{width:100%;max-width:260px;padding:.7rem 1rem;border-radius:8px;border:1px solid #334;background:#0f3460;color:#fff;font-size:1rem;text-align:center;margin-bottom:1rem}
.btn-primary{background:#e94560;color:#fff;padding:.7rem 2rem;border-radius:8px;font-size:1rem;font-weight:600;transition:background .2s}
.btn-primary:hover{background:#d63851}
.btn-primary:disabled{opacity:.5}

/* ── 대시보드 ── */
#dashboard{padding:1rem;background:#0f3460;border-bottom:2px solid #e94560}
.dash-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:.8rem}
.dash-main h2{font-size:1.2rem;color:#fff}
.dash-main h2 small{color:#999;font-weight:400}
.money{font-size:1.4rem;color:#ffd700;font-weight:700}
.dash-time{text-align:center;font-size:.8rem;color:#aaa}
.time-circle{width:52px;height:52px;border-radius:50%;border:3px solid #e94560;display:flex;align-items:center;justify-content:center;font-size:1.3rem;font-weight:700;color:#e94560;margin:0 auto .2rem}
.time-circle small{font-size:.7rem}

/* 바 */
.bars{margin-bottom:.6rem}
.bars label{font-size:.75rem;color:#aaa;display:flex;align-items:center;gap:4px;margin-bottom:2px}
.bar{height:8px;background:#222;border-radius:4px;overflow:hidden;margin-bottom:6px}
.bar-fill{height:100%;border-radius:4px;transition:width .3s}
.bar-fill.fatigue{background:linear-gradient(90deg,#e94560,#ff6b6b)}
.bar-fill.happiness{background:linear-gradient(90deg,#43cea2,#185a9d)}

/* 뱃지 */
.badge{font-size:.65rem;padding:1px 6px;border-radius:4px;font-weight:700}
.badge.danger{background:#e94560;color:#fff}
.badge.warning{background:#ff9800;color:#000}
.badge.caution{background:#ffc107;color:#000}

/* 스탯 그리드 */
.stats-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:4px;text-align:center;font-size:.75rem;margin-bottom:.6rem}
.stat b{display:block;font-size:1rem;color:#fff}

/* 재고 표시 */
.inventory-row{display:flex;gap:1rem;margin-bottom:.6rem;padding:.4rem .6rem;background:#1a4080;border-radius:6px}
.inv-item{flex:1;text-align:center;font-size:.85rem}
.inv-item b{color:#ffd700;font-size:1.1rem}

/* 매장 정보 */
.store-info{font-size:.8rem;color:#ccc;display:flex;align-items:center;gap:8px}
.btn-sm{font-size:.7rem;padding:2px 8px;border-radius:4px;background:#334;color:#aaa}
.btn-sm:hover{background:#445;color:#fff}

/* ── 행동 패널 ── */
#action-panel{flex:1;overflow-y:auto;padding:.6rem}
.cat-group{margin-bottom:.4rem;border-radius:8px;overflow:hidden;background:#0f3460}
.cat-header{padding:.6rem .8rem;font-weight:600;font-size:.9rem;cursor:pointer;user-select:none}
.cat-header:hover{background:#1a4080}
.cat-actions{display:none;padding:0 .5rem .5rem}
.cat-group.open .cat-actions{display:block}

.action-btn{display:flex;flex-wrap:wrap;width:100%;padding:.5rem .7rem;margin-bottom:4px;border-radius:6px;background:#16213e;text-align:left;transition:background .15s}
.action-btn:hover:not(:disabled){background:#1a4080}
.action-btn:disabled{opacity:.35;cursor:not-allowed}
.action-name{flex:1;font-weight:600;font-size:.85rem}
.action-meta{font-size:.7rem;color:#aaa}
.action-exp{width:100%;font-size:.65rem;color:#43cea2;margin-top:2px}

.btn-end-turn{width:100%;padding:.8rem;margin-top:.6rem;border-radius:8px;background:#e94560;color:#fff;font-size:1rem;font-weight:600}
.btn-end-turn:hover{background:#d63851}
.btn-end-turn:disabled{opacity:.5}

/* ── 로그 패널 ── */
#log-panel{max-height:120px;overflow-y:auto;padding:.5rem;background:#111;font-size:.75rem;border-top:1px solid #333}
.log-empty{color:#666;text-align:center;padding:.5rem}
.log-entry{padding:3px 0;border-bottom:1px solid #222}
.log-ok{color:#43cea2}
.log-fail{color:#e94560}

/* ── 결산 모달 ── */
#settlement-modal{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:100}
#settlement-content{background:#16213e;border-radius:12px;padding:1.5rem;width:90%;max-width:360px;text-align:center}
#settlement-content h3{margin-bottom:1rem;color:#ffd700}
.settlement-row{display:flex;justify-content:space-between;padding:.4rem 0;font-size:.95rem}
.settlement-row.positive span{color:#43cea2}
.settlement-row.negative span{color:#e94560}
#settlement-content hr{border-color:#334;margin:.5rem 0}
.settlement-stock{font-size:.8rem;color:#aaa;margin-top:.6rem}
#settlement-content .btn-primary{margin-top:1rem}
